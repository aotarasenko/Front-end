{"version":3,"sources":["api/auth/authReducer.js","api/auth/authenticate.js","styles/variables.js","components/Layout/NavBar/NavBar.styled.jsx","components/Layout/NavBar/NavMenu/NavMenu.styled.jsx","components/AppButton/AppButton.styled.jsx","components/AppButton/AppButton.js","components/Layout/NavBar/NavMenu/NavMenu.js","components/Layout/NavBar/NavBar.js","styles/generalStyles.js","components/Avatar.js","components/ModalWindow/ModalWindow.styled.jsx","validationSchemas/ValidationScheme.js","api/articles/articles.js","hooks/useApi.js","components/ModalWindow/EditArticleWindow.js","components/Post/Post.styled.jsx","components/Post/Post.js","hooks/useDataFetch.js","Pages/Home.js","hooks/useArticles.js","hooks/useTags.js","api/auth/actions.js","Pages/Favorites.js","components/Layout/Header/Header.styled.jsx","components/ModalWindow/AddPostWindow.js","components/Layout/Header/Header.js","Pages/Auth/AuthForm.styled.jsx","Pages/Auth/Login.js","Pages/Auth/Signup.js","components/ModalWindow/EditProfileWindow.js","Pages/Profile.js","hooks/useProfile.js","components/CommentBlock/CommentBlock.styled.jsx","components/CommentBlock/CommentBlock.js","components/Layout/PostView/PostView.js","Pages/Feeds.js","App.js","index.js"],"names":["authReducer","initialState","action","console","log","type","loading","token","payload","errorMessage","error","user","isAuth","localStorage","removeItem","Error","AuthStateContext","createContext","AuthDispatchContext","useAuthState","ctx","useContext","useAuthDispatch","AuthProvider","children","useReducer","dispatch","Provider","value","AppColors","AppSizes","AppFontSizes","AppIcons","home","world","favorite","subscription","profile","like","add","edit","close","feed","NavBarStyled","styled","nav","NavMenuStyled","ul","AppButtonStyled","button","position","margin","isFavorited","AppButton","props","onClick","handle","color","likesCount","content","NavMenu","history","useHistory","menuItems","title","path","icon","query","username","map","item","push","pathname","search","state","author","currentUser","Math","random","NavBar","FlexRow","div","direction","flexAlign","flexSpacing","flexWrap","maxWidth","FlexColumn","Container","SectionInner","section","Avatar","imgUrl","AvatarStyled","src","alt","img","ModalWrapper","ArticleValidationScheme","Yup","trim","required","email","password","min","shape","body","description","UserProfileValidationScheme","initGetFeedsApi","axios","baseUrl","get","catch","e","initGetArticleApi","slug","initGetUserApi","initGetProfileApi","initGetCommentsApi","initGetTagsApi","initPostNewArticleApi","article","post","initPostNewCommentleApi","comment","initPostNewUserApi","initPostSubscriptionApi","initPostFollowApi","initUpdateArticleApi","put","initUpdateProfileApi","initDeleteSubscriptionApi","delete","initDeleteArticleApi","initDeleteCommentApi","commentID","initDeleteFollowApi","useApi","baseURL","getItem","JSON","parse","authInstance","create","headers","Authorization","getArticlesApi","additionalParam","getArticleApi","api","getCommentsApi","getProfileApi","getUserApi","getTagsApi","getFeeds","createNewUserApi","createNewCommentApi","createNewSubscriptionApi","createNewArticleApi","createNewFollowApi","updateArticleApi","updateProfileApi","deleteArticleApi","delereFollowApi","deleteCommentApi","deleteSubscriptionApi","withFormik","validationSchema","mapPropsToValues","initialValues","values","onSubmit","handleSubmit","handleChange","handleBlur","handleOnSubmit","a","preventDefault","setModalOpen","isModalOpen","name","placeholder","onChange","onBlur","tags","PostStyled","Post","useState","setArticle","deleteArticle","res","data","favoriteArticle","unfavoriteArticle","className","image","createdAt","favorited","favoritesCount","tagList","tag","dataFetchReducer","isLoading","fetchWithStatuses","promise","opts","didCancel","result","useDataFetch","fetchHandler","initialData","isLazy","isLoadingInitial","useEffect","Home","articles","setArticles","fetchArticles","useArticles","setTags","fetchTags","useTags","index","ROOT_URL","loginUser","loginPayload","response","setItem","stringify","registerUser","registerPayload","Favorites","then","HeaderStyled","header","DEFAULT_VALUES","handleCloseModal","Header","setFormValues","to","logout","AuthForm","form","Login","setEmail","setPassword","sendLogin","target","Signup","setName","sendSignup","setUser","handleEdit","bio","Profile","setProfile","fetchProfile","useProfile","location","following","CommentBlockStyled","CommentBlock","setCommet","deleteComment","id","PostView","comments","setComments","commentBody","useFormik","getArticleComments","commentsList","addComment","getArticle","key","Feeds","feeds","setFeeds","handeGetFeeds","App","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9dea4fc2.chunk.js","sourcesContent":["export const authReducer = (initialState, action) => {\r\n  console.log(initialState, action);\r\n  switch (action.type) {\r\n    case 'REQUEST_REGISTER':\r\n      return {\r\n        ...initialState,\r\n        loading: true,\r\n      };\r\n    case 'REGISTER_SUCCESS':\r\n      return {\r\n        ...initialState,\r\n        token: action.payload.token,\r\n        loading: false,\r\n      };\r\n    case 'REGISTER_ERROR':\r\n      return {\r\n        ...initialState,\r\n        loading: false,\r\n        errorMessage: action.error,\r\n      };\r\n    case 'REQUEST_LOGIN':\r\n      return {\r\n        ...initialState,\r\n        loading: true,\r\n      };\r\n    case 'LOGIN_SUCCESS':\r\n      return {\r\n        ...initialState,\r\n        user: action.payload,\r\n        token: action.payload.token,\r\n        isAuth: true,\r\n        loading: false,\r\n      };\r\n    case 'LOGOUT':\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...initialState,\r\n        user: '',\r\n        token: '',\r\n        isAuth: false,\r\n      };\r\n\r\n    case 'LOGIN_ERROR':\r\n      return {\r\n        ...initialState,\r\n        loading: false,\r\n        errorMessage: action.error,\r\n      };\r\n\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n};\r\n","import { useContext, useReducer, createContext } from 'react';\r\nimport { authReducer } from './authReducer';\r\nimport { initialState } from '../../App';\r\n\r\nconst AuthStateContext = createContext();\r\nconst AuthDispatchContext = createContext();\r\n\r\nexport const useAuthState = () => {\r\n  const ctx = useContext(AuthStateContext);\r\n  if (!ctx) {\r\n    throw new Error('useAuthState must be used within a AuthProvider');\r\n  }\r\n\r\n  return ctx;\r\n};\r\n\r\nexport function useAuthDispatch() {\r\n  const ctx = useContext(AuthDispatchContext);\r\n  if (!ctx) {\r\n    throw new Error('useAuthDispatch must be used within a AuthProvider');\r\n  }\r\n\r\n  return ctx;\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  return (\r\n    <AuthStateContext.Provider value={user}>\r\n      <AuthDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </AuthDispatchContext.Provider>\r\n    </AuthStateContext.Provider>\r\n  );\r\n};\r\n","import { AiFillHome, AiFillStar, AiFillLike } from \"react-icons/ai\";\r\nimport { BiWorld } from \"react-icons/bi\";\r\nimport { BsFillBookmarkFill } from \"react-icons/bs\";\r\nimport { CgProfile } from \"react-icons/cg\";\r\nimport { IoMdAdd } from \"react-icons/io\";\r\nimport { MdEdit, MdRssFeed } from \"react-icons/md\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\n\r\nexport const AppColors = {\r\n  primary: \"#1564bf\",\r\n  light: \"#5e91f2\",\r\n  dark: \"#003b8e\",\r\n  white: \"#fff\",\r\n  neutral: \"#aaa\",\r\n  error: \"#f44336\",\r\n};\r\n\r\nexport const AppSizes = {\r\n  mobile: \"320px\",\r\n  tablet: \"768px\",\r\n  laptop: \"1024px\",\r\n  desktop: \"1440px\",\r\n};\r\n\r\nexport const AppFontSizes = {\r\n  small: \"12px\",\r\n  default: \"16px\",\r\n  medium: \"18px\",\r\n  large: \"24px\",\r\n};\r\n\r\nexport const AppIcons = {\r\n  home: <AiFillHome />,\r\n  world: <BiWorld />,\r\n  favorite: <AiFillStar />,\r\n  subscription: <BsFillBookmarkFill />,\r\n  profile: <CgProfile />,\r\n  like: <AiFillLike />,\r\n  add: <IoMdAdd />,\r\n  edit: <MdEdit />,\r\n  close: <IoMdClose />,\r\n  feed: <MdRssFeed />,\r\n};\r\n","import styled from \"styled-components\";\r\nimport { AppColors, AppSizes } from \"../../../styles/variables\";\r\n\r\nexport const NavBarStyled = styled.nav`\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  min-width: 40px;\r\n  width: 100%;\r\n  background-color: ${AppColors.primary};\r\n\r\n  @media screen and (min-width: ${AppSizes.tablet}) {\r\n    top: 50%;\r\n    right: 0;\r\n    left: auto;\r\n    bottom: auto;\r\n    max-width: 40px;\r\n    border-top-left-radius: 5px;\r\n    border-bottom-left-radius: 5px;\r\n    transform: translateY(-50%);\r\n  }\r\n`;","import {\r\n  AppColors,\r\n  AppFontSizes,\r\n  AppSizes,\r\n} from \"../../../../styles/variables\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const NavMenuStyled = styled.ul`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  @media screen and (min-width: ${AppSizes.tablet}) {\r\n    flex-direction: column;\r\n  }\r\n\r\n  li {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    list-style: none;\r\n\r\n    &::after {\r\n      content: \"\";\r\n      position: absolute;\r\n      right: 0;\r\n      display: block;\r\n      width: 2px;\r\n      height: 50%;\r\n      border-radius: 75%;\r\n      background-color: ${AppColors.neutral};\r\n      opacity: 0.4;\r\n    }\r\n\r\n    svg {\r\n      font-size: ${AppFontSizes.medium};\r\n      color: ${AppColors.white};\r\n    }\r\n\r\n    a {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 10px 0;\r\n      border-bottom: 2px solid transparent;\r\n      width: 100%;\r\n      height: 100%;\r\n      transition: 0.4s border-bottom ease;\r\n      text-decoration: none;\r\n      color: ${AppColors.white};\r\n\r\n      &:hover {\r\n        background-color: ${AppColors.dark};\r\n        cursor: poiner;\r\n        transition: 0.4s background-color ease;\r\n      }\r\n    }\r\n  }\r\n`;","import styled from \"styled-components\";\r\nimport { AppColors, AppFontSizes, AppSizes } from \"../../styles/variables\";\r\n\r\nexport const AppButtonStyled = styled.button`\r\n  position: ${({ position }) => position || \"static\"};\r\n  bottom: 50px;\r\n  right: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: ${({ margin }) => margin || \"0\"};\r\n  min-width: 40px;\r\n  min-height: 40px;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 4px;\r\n  background-color: ${({ isFavorited }) =>\r\n    isFavorited ? \"transparent\" : AppColors.primary} !important;\r\n  color: ${({ isFavorited }) =>\r\n    isFavorited ? AppColors.primary : AppColors.white};\r\n  font-size: ${AppFontSizes.medium};\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: ${AppColors.light};\r\n  }\r\n\r\n  @media screen and (min-width: ${AppSizes.tablet}) {\r\n    position: static;\r\n    background-color: ${AppColors.dark};\r\n\r\n    &:hover {\r\n      background-color: ${AppColors.light};\r\n    }\r\n  }\r\n`;\r\n","import { AppButtonStyled } from \"./AppButton.styled\";\r\n\r\nexport const AppButton = (props) => {\r\n  return (\r\n    <AppButtonStyled\r\n      onClick={props.handle}\r\n      color={props.color || \"transparent\"}\r\n      position={props.position}\r\n      isFavorited={props.isFavorited || \"\"}\r\n      likesCount={props.likesCount || \"\"}\r\n      margin={props.margin}\r\n    >\r\n      {props.content}\r\n      {props.likesCount}\r\n    </AppButtonStyled>\r\n  );\r\n};\r\n","import { AppIcons } from '../../../../styles/variables';\r\nimport { useAuthState } from '../../../../api/auth/authenticate';\r\nimport { NavMenuStyled } from './NavMenu.styled';\r\nimport { useHistory } from 'react-router';\r\nimport { AppButton } from '../../../AppButton/AppButton';\r\n\r\nexport const NavMenu = () => {\r\n  const user = useAuthState();\r\n  const history = useHistory();\r\n\r\n  const menuItems = [\r\n    {\r\n      title: 'My Posts',\r\n      path: '/home',\r\n      icon: AppIcons.home,\r\n      query: '',\r\n    },\r\n    {\r\n      title: 'Feeds',\r\n      path: '/feeds',\r\n      icon: AppIcons.feed,\r\n      query: '',\r\n    },\r\n    { title: 'Favorites', path: '/favorites', query: '', icon: AppIcons.like },\r\n    {\r\n      title: 'Profile',\r\n      path: `/profiles/${user.user.username}`,\r\n      query: `author=${user.user.username}`,\r\n      icon: AppIcons.profile,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <NavMenuStyled>\r\n      {menuItems.map((item) => {\r\n        return (\r\n          <li key={item.title + Math.random()}>\r\n            <AppButton\r\n              type=\"link\"\r\n              content={item.icon}\r\n              handle={() => {\r\n                history.push({\r\n                  pathname: item.path,\r\n                  search: item.query,\r\n                  state: {\r\n                    author: user.user.username,\r\n                    currentUser: true,\r\n                  },\r\n                });\r\n              }}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </NavMenuStyled>\r\n  );\r\n};\r\n","import { useAuthState } from \"../../../api/auth/authenticate\";\r\nimport { NavBarStyled } from \"./NavBar.styled\";\r\nimport { NavMenu } from \"./NavMenu/NavMenu\";\r\n\r\nexport const NavBar = () => {\r\n  const currentUser = useAuthState();\r\n\r\n  if (currentUser.isAuth) {\r\n    return (\r\n      <NavBarStyled>\r\n        <NavMenu />\r\n      </NavBarStyled>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n","import styled from \"styled-components\";\r\nimport { AppSizes } from \"./variables\";\r\n\r\nexport const FlexRow = styled.div`\r\n  display: flex;\r\n  flex-direction: ${({ direction }) => direction || \"row\"};\r\n  align-items: ${(props) => props.flexAlign || \"center\"};\r\n  justify-content: ${(props) => props.flexSpacing || \"space-between\"};\r\n  flex-wrap: ${(props) => props.flexWrap || \"nowrap\"};\r\n  width: 100%;\r\n\r\n  @media screen and (min-width: ${AppSizes.tablet}) {\r\n    flex-direction: row;\r\n    max-width: ${(props) => props.maxWidth || \"none\"};\r\n  }\r\n`;\r\n\r\nexport const FlexColumn = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: ${(props) => props.flexSpacing || \"space-between\"};\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  margin: 0 auto;\r\n  padding: 12px 6px;\r\n  width: 100%;\r\n  max-width: ${AppSizes.desktop};\r\n`;\r\n\r\nexport const SectionInner = styled.section`\r\n  width: 100%;\r\n  max-width: ${AppSizes.laptop};\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { AppColors } from \"../styles/variables\";\r\n\r\nexport const Avatar = ({ imgUrl }) => {\r\n  return <AvatarStyled src={imgUrl} alt={imgUrl} />;\r\n};\r\n\r\nconst AvatarStyled = styled.img`\r\n  display: flex;\r\n  align-self: flex-start;\r\n  max-width: 50px;\r\n  max-height: 50px;\r\n  border-radius: 50%;\r\n  color: ${AppColors.white};\r\n  font-weight: bold;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { AppColors } from \"../../styles/variables\";\r\n\r\nexport const ModalWrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 10;\r\n  display: block;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(200, 200, 200, 0.5);\r\n\r\n  form{\r\n    position: relative;\r\n    left: 50%;\r\n    top: 50%;\r\n    display: flex;\r\n    max-width: 600px;\r\n    width: 100%;\r\n    background-color: ${AppColors.white};\r\n    border-radius: 5px;\r\n    transform: translate(-50%, -50%);\r\n\r\n    button {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n      color: ${AppColors.neutral};\r\n    }\r\n\r\n    fieldset {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      border: none;\r\n      * {\r\n        margin: 5px 0;\r\n        border-radius: 4px;\r\n      }\r\n\r\n      label {\r\n        display: flex;\r\n        flex-direction: column;\r\n      }\r\n\r\n      input {\r\n        height: 40px;\r\n        border: 0.5px solid ${AppColors.neutral};\r\n\r\n        &:focus {\r\n          border-color: ${AppColors.light};\r\n        }\r\n      }\r\n\r\n      input[type=\"submit\"] {\r\n        border: none;\r\n        background-color: ${AppColors.primary};\r\n        color: ${AppColors.white};\r\n        text-transform: uppercase;\r\n      }\r\n    }\r\n  }\r\n`;","import * as Yup from \"yup\";\r\n\r\nexport const SignUpValidationSchema = Yup.object({\r\n  username: Yup.string().trim().required(\"Required\"),\r\n  email: Yup.string().trim().required(\"Required\").email(\"Not valid\"),\r\n  password: Yup.string()\r\n    .trim()\r\n    .required(\"No password provided.\")\r\n    .min(8, \"Password is too short - should be 8 chars minimum.\"),\r\n});\r\n\r\nexport const LoginValidationSchema = Yup.object().shape({\r\n  email: Yup.string().trim().required(\"Required\").email(\"Not Valid\"),\r\n});\r\n\r\nexport const ArticleValidationScheme = Yup.object({\r\n  title: Yup.string().trim().required(\"Required\"),\r\n  body: Yup.string().trim().required(\"Required\"),\r\n  description: Yup.string().trim().required(\"Required\"),\r\n});\r\n\r\nexport const UserProfileValidationScheme = Yup.object().shape({\r\n  email: Yup.string().trim().required(\"Required\").email(\"Not Valid\"),\r\n  username: Yup.string().trim().required(\"Required\"),\r\n  password: Yup.string()\r\n    .trim()\r\n    .required(\"No password provided.\")\r\n    .min(8, \"Password is too short - should be 8 chars minimum.\"),\r\n});\r\n","import axios from 'axios';\r\n\r\n// get\r\n////articles\r\nexport const initGetArticlesApi =\r\n  (baseUrl) =>\r\n  (additionalParam = '') =>\r\n    axios\r\n      .get(`${baseUrl}/articles/${additionalParam}`)\r\n      .catch((e) => console.log('Error when gets articles'));\r\n\r\nexport const initGetFeedsApi = (axios, baseUrl) => () =>\r\n  axios\r\n    .get(`${baseUrl}/articles/feed`)\r\n    .catch((e) => console.log('Error when gets feeds'));\r\n\r\nexport const initGetArticleApi = (baseUrl) => (slug) =>\r\n  axios\r\n    .get(`${baseUrl}/articles/${slug}`)\r\n    .catch((e) => console.log('Error when gets single article'));\r\n\r\nexport const initGetUserApi = (axios, baseUrl) => () =>\r\n  axios\r\n    .get(`${baseUrl}/user`)\r\n    .catch((e) => console.log('Error when gets user'));\r\n\r\nexport const initGetProfileApi = (baseUrl) => (username) =>\r\n  axios\r\n    .get(`${baseUrl}/profiles/${username}`)\r\n    .catch((e) => console.log('Error when gets profile'));\r\n\r\nexport const initGetCommentsApi = (axios, baseUrl) => (slug) =>\r\n  axios\r\n    .get(`${baseUrl}/articles/${slug}/comments`)\r\n    .catch((e) => console.log('Error when gets comments'));\r\n\r\nexport const initGetTagsApi = (baseUrl) => () =>\r\n  axios\r\n    .get(`${baseUrl}/tags`)\r\n    .catch((e) => console.log('Error when gets tags'));\r\n//post\r\nexport const initPostNewArticleApi = (axios, baseUrl) => (article) =>\r\n  axios\r\n    .post(`${baseUrl}/articles`, article)\r\n    .catch((e) => console.log('Error when creating new article'));\r\nexport const initPostNewCommentleApi = (axios, baseUrl) => (comment, slug) =>\r\n  axios\r\n    .post(`${baseUrl}/articles/${slug}/comments`, comment)\r\n    .catch((e) => console.log('Error when creating new comment'));\r\n\r\nexport const initPostNewUserApi = (baseUrl) => (body) =>\r\n  axios\r\n    .post(`${baseUrl}/users/`, body)\r\n    .catch((e) => console.log('Error when creating new user'));\r\n\r\nexport const initPostSubscriptionApi = (axios, baseUrl) => (username) =>\r\n  axios\r\n    .post(`${baseUrl}/profiles/${username}/follow`)\r\n    .catch((e) => console.log('Error when creating new subscription'));\r\n\r\nexport const initPostFollowApi = (axios, baseUrl) => (slug) =>\r\n  axios\r\n    .post(`${baseUrl}/articles/${slug}/favorite`)\r\n    .catch((e) => console.log('Error when creating new follow'));\r\n//put\r\nexport const initUpdateArticleApi = (axios, baseUrl) => (slug, article) =>\r\n  axios\r\n    .put(`${baseUrl}/articles/${slug}`, article)\r\n    .catch((e) => console.log('Error when updating article'));\r\nexport const initUpdateProfileApi = (axios, baseUrl) => (body) =>\r\n  axios\r\n    .put(`${baseUrl}/user`, body)\r\n    .catch((e) => console.log('Error when updating profile'));\r\n//delete\r\nexport const initDeleteSubscriptionApi = (axios, baseUrl) => (username) =>\r\n  axios\r\n    .delete(`${baseUrl}/profiles/${username}/follow`)\r\n    .catch((e) => console.log('Error when deleting subscription'));\r\nexport const initDeleteArticleApi = (axios, baseUrl) => (slug) =>\r\n  axios\r\n    .delete(`${baseUrl}/articles/${slug}`)\r\n    .catch((e) => console.log('Error when deleting article'));\r\nexport const initDeleteCommentApi = (axios, baseUrl) => (slug, commentID) =>\r\n  axios\r\n    .delete(`${baseUrl}/articles/${slug}/comments/${commentID}`)\r\n    .catch((e) => console.log('Error when deleting comment'));\r\nexport const initDeleteFollowApi = (axios, baseUrl) => (slug) =>\r\n  axios\r\n    .delete(`${baseUrl}/articles/${slug}/favorite`)\r\n    .catch((e) => console.log('Error when deleting follow'));\r\n","import axios from 'axios';\r\nimport * as api from '../api/articles/articles';\r\n\r\nexport const ARTICLES_LIMIT = 5;\r\n\r\nexport const useApi = () => {\r\n  const baseURL = 'https://conduit.productionready.io/api';\r\n\r\n  let token = localStorage.getItem('token')\r\n    ? JSON.parse(localStorage.getItem('token'))\r\n    : '';\r\n\r\n  const authInstance = axios.create({\r\n    baseURL,\r\n    headers: {\r\n      Authorization: `Token ${token}`,\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n\r\n  return {\r\n    getArticlesApi: api.initGetArticlesApi(baseURL),\r\n    getArticleApi: api.initGetArticleApi(baseURL),\r\n    getCommentsApi: api.initGetCommentsApi(authInstance, baseURL),\r\n    getProfileApi: api.initGetProfileApi(baseURL),\r\n    getUserApi: api.initGetUserApi(authInstance, baseURL),\r\n    getTagsApi: api.initGetTagsApi(baseURL),\r\n    getFeeds: api.initGetFeedsApi(authInstance, baseURL),\r\n\r\n    createNewUserApi: api.initPostNewUserApi(authInstance, baseURL),\r\n    createNewCommentApi: api.initPostNewCommentleApi(authInstance, baseURL),\r\n    createNewSubscriptionApi: api.initPostSubscriptionApi(\r\n      authInstance,\r\n      baseURL\r\n    ),\r\n    createNewArticleApi: api.initPostNewArticleApi(authInstance, baseURL),\r\n    createNewFollowApi: api.initPostFollowApi(authInstance, baseURL),\r\n\r\n    updateArticleApi: api.initUpdateArticleApi(authInstance, baseURL),\r\n    updateProfileApi: api.initUpdateProfileApi(authInstance, baseURL),\r\n\r\n    deleteArticleApi: api.initDeleteArticleApi(authInstance, baseURL),\r\n    delereFollowApi: api.initDeleteFollowApi(authInstance, baseURL),\r\n    deleteCommentApi: api.initDeleteCommentApi(authInstance, baseURL),\r\n    deleteSubscriptionApi: api.initDeleteSubscriptionApi(authInstance, baseURL),\r\n  };\r\n};\r\n","import { Form, withFormik } from \"formik\";\r\nimport { ModalWrapper } from \"./ModalWindow.styled\";\r\nimport { ArticleValidationScheme } from \"../../validationSchemas/ValidationScheme\";\r\nimport { useApi } from \"../../hooks/useApi\";\r\n\r\nconst EditArticleWindow = (props) => {\r\n  const { values, onSubmit, handleSubmit, handleChange, handleBlur } = props;\r\n\r\n  const { updateArticleApi } = useApi();\r\n\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    handleSubmit();\r\n    await updateArticleApi(values.slug, values);\r\n    props.setModalOpen(!props.isModalOpen);\r\n    onSubmit(values);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.isModalOpen ? (\r\n        <ModalWrapper>\r\n          <Form onSubmit={handleOnSubmit}>\r\n            <button type=\"button\" onClick={props.setModalOpen}>\r\n              x\r\n            </button>\r\n            <fieldset>\r\n              <legend>Edit Article </legend>\r\n              <label>\r\n                {\" \"}\r\n                Title\r\n                <input\r\n                  name=\"title\"\r\n                  type=\"text\"\r\n                  placeholder=\"Article Title\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.title}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Description\r\n                <input\r\n                  name=\"description\"\r\n                  type=\"text\"\r\n                  placeholder=\"Article Description\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.description}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Body\r\n                <input\r\n                  name=\"body\"\r\n                  type=\"text\"\r\n                  placeholder=\"Article Body\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.body}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Tags\r\n                <input\r\n                  name=\"tags\"\r\n                  placeholder=\"Tags\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.tags}\r\n                />\r\n              </label>\r\n              <input type=\"submit\" value=\"Save Changes\" />\r\n            </fieldset>\r\n          </Form>\r\n        </ModalWrapper>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withFormik({\r\n  validationSchema: ArticleValidationScheme,\r\n  mapPropsToValues: ({ initialValues }) => (initialValues ? initialValues : \"\"),\r\n})(EditArticleWindow);\r\n","\r\nimport styled from \"styled-components\";\r\n\r\nimport { AppColors, AppFontSizes } from \"../../styles/variables\";\r\n\r\nexport const PostStyled = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 40px 0;\r\n  padding: 12px 6px;\r\n  border-top: 5px solid ${AppColors.neutral};\r\n  border-top-left-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n  width: 100%;\r\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  box-sizing: border-box;\r\n\r\n  .post-content {\r\n    margin-top: 20px;\r\n    border-top: 1px solid ${AppColors.neutral};\r\n  }\r\n\r\n  .post-title {\r\n    color: ${AppColors.light};\r\n  }\r\n\r\n  .post-body {\r\n    min-height: 80px;\r\n    border: 2px solid ${AppColors.primary};\r\n  }\r\n\r\n  .post-description,\r\n  .post-tags {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    color: ${AppColors.neutral};\r\n    font-style: italic;\r\n  }\r\n\r\n  div.post-heading {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    p {\r\n      margin: 0;\r\n      font-size: ${AppFontSizes.small};\r\n    }\r\n    .author-name {\r\n      font-weight: bold;\r\n      color: ${AppColors.light};\r\n    }\r\n  }\r\n`;\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { useAuthState } from \"../../api/auth/authenticate\";\r\nimport { FlexColumn, FlexRow } from \"../../styles/generalStyles\";\r\nimport { AppColors, AppIcons } from \"../../styles/variables\";\r\nimport { Avatar } from \"../Avatar\";\r\nimport { AppButton } from \"../AppButton/AppButton\";\r\nimport { useState } from \"react\";\r\nimport EditArticleWindow from \"../ModalWindow/EditArticleWindow\";\r\nimport { PostStyled } from \"./Post.styled\";\r\nimport { useApi } from \"../../hooks/useApi\";\r\n\r\nexport const Post = (post) => {\r\n  const user = useAuthState();\r\n  const history = useHistory();\r\n  const [article, setArticle] = useState(post);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const { deleteArticleApi, createNewFollowApi, delereFollowApi } = useApi();\r\n\r\n  const handleCloseModal = () => setModalOpen(!isModalOpen);\r\n\r\n  const deleteArticle = async () => {\r\n    const res = await deleteArticleApi(article.slug);\r\n    setArticle(res.data.article);\r\n  };\r\n\r\n  const favoriteArticle = async () => {\r\n    const res = await createNewFollowApi(article.slug);\r\n    setArticle(res.data.article);\r\n  };\r\n\r\n  const unfavoriteArticle = async () => {\r\n    const res = await delereFollowApi(article.slug);\r\n    setArticle(res.data.article);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {article ? (\r\n        <PostStyled>\r\n          <EditArticleWindow\r\n            initialValues={article}\r\n            isModalOpen={isModalOpen}\r\n            setModalOpen={handleCloseModal}\r\n            onSubmit={setArticle}\r\n          />\r\n          <div className=\"post-heading\">\r\n            <Avatar imgUrl={article.author.image} />\r\n            <FlexColumn flexSpacing=\"flex-start\">\r\n              <button\r\n                type=\"link\"\r\n                onClick={() => {\r\n                  history.push({\r\n                    pathname: `/profiles/${article.author.username}`,\r\n                    state: {\r\n                      author: article.author.username,\r\n                      currentUser:\r\n                        article.author.username === user.user.username\r\n                          ? true\r\n                          : false,\r\n                    },\r\n                  });\r\n                }}\r\n              >\r\n                {article.author.username}\r\n              </button>\r\n              <p>{article.createdAt}</p>\r\n            </FlexColumn>\r\n            <FlexRow flexSpacing=\"flex-end\">\r\n              <AppButton\r\n                color={AppColors.light}\r\n                content={AppIcons.like}\r\n                handle={article.favorited ? unfavoriteArticle : favoriteArticle}\r\n                isFavorited={article.favorited}\r\n                likesCount={article.favoritesCount}\r\n                margin=\"6px\"\r\n              />\r\n            </FlexRow>\r\n          </div>\r\n          <div className=\"post-content\">\r\n            <button\r\n              type=\"link\"\r\n              onClick={() => {\r\n                history.push({\r\n                  pathname: `/articles/${article.slug}`,\r\n                  state: {\r\n                    author: article.author.username,\r\n                    slug: article.slug,\r\n                    currentUser:\r\n                      article.author.username === user.user.username\r\n                        ? true\r\n                        : false,\r\n                  },\r\n                });\r\n              }}\r\n            >\r\n              {article.title}\r\n            </button>\r\n            <p className=\"post-body\">{article.body}</p>\r\n          </div>\r\n          <hr />\r\n          <FlexRow flexSpacing=\"space-between\">\r\n            <p className=\"post-description\">{article.description}</p>\r\n            <div className=\"post-tags\">\r\n              {article.tagList.map((tag) => {\r\n                return <span key={article.author + tag}>{\"#\" + tag}</span>;\r\n              })}\r\n            </div>\r\n          </FlexRow>\r\n          <FlexRow>\r\n            {article.author.username === user.user.username ? (\r\n              <FlexRow flexSpacing=\"flex-end\">\r\n                <AppButton\r\n                  color={AppColors.error}\r\n                  content={AppIcons.close}\r\n                  handle={deleteArticle}\r\n                  margin=\"6px\"\r\n                />\r\n                <AppButton\r\n                  color={AppColors.primary}\r\n                  content={AppIcons.edit}\r\n                  handle={setModalOpen}\r\n                  margin=\"6px\"\r\n                />\r\n              </FlexRow>\r\n            ) : null}\r\n          </FlexRow>\r\n        </PostStyled>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useEffect, useReducer } from \"react\";\r\n\r\nconst dataFetchReducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case \"FETCH_INIT\":\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case \"FETCH_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: payload.data,\r\n        error: null,\r\n      };\r\n    case \"FETCH_FAILURE\":\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nasync function fetchWithStatuses(\r\n  promise,\r\n  dispatch,\r\n  opts = { didCancel: false }\r\n) {\r\n  dispatch({ type: \"FETCH_INIT\", payload: null });\r\n\r\n  try {\r\n    const result = await promise;\r\n\r\n    if (!opts.didCancel) {\r\n      dispatch({ type: \"FETCH_SUCCESS\", payload: result });\r\n    }\r\n  } catch (e) {\r\n    if (!opts?.didCancel) {\r\n      dispatch({ type: \"FETCH_FAILURE\", payload: e });\r\n    }\r\n  }\r\n}\r\n\r\nexport const useDataFetch = ({\r\n  fetchHandler,\r\n  initialData = {},\r\n  isLazy = false,\r\n  isLoadingInitial = false,\r\n}) => {\r\n  const [state, dispatch] = useReducer(dataFetchReducer, {\r\n    isLoading: isLoadingInitial,\r\n    error: null,\r\n    data: initialData,\r\n  });\r\n\r\n  const fetchCallBack = (opts) =>\r\n    fetchWithStatuses(fetchHandler(opts), dispatch);\r\n\r\n  useEffect(() => {\r\n    const opts = { didCancel: false };\r\n\r\n    if (!isLazy && !opts.didCancel) {\r\n      fetchWithStatuses(fetchHandler(), dispatch, opts);\r\n    }\r\n\r\n    return () => {\r\n      opts.didCancel = true;\r\n    };\r\n  }, []);\r\n\r\n  return [state, fetchCallBack];\r\n};\r\n","import { Container, FlexRow, SectionInner } from '../styles/generalStyles';\r\nimport { Post } from '../components/Post/Post';\r\nimport { useArticles } from '../hooks/useArticles';\r\nimport { AppButton } from '../components/AppButton/AppButton';\r\nimport { useTags } from '../hooks/useTags';\r\n\r\nexport const Home = () => {\r\n  const { articles } = useArticles();\r\n  const { tags } = useTags();\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n        <FlexRow\r\n          flexSpacing=\"space-around\"\r\n          flexAlign=\"flex-start\"\r\n          direction=\"column-reverse\"\r\n        >\r\n          <SectionInner>\r\n            {articles ? (\r\n              articles.map((article, index) => (\r\n                <Post key={index} {...article} />\r\n              ))\r\n            ) : (\r\n              <div>No articles avalaible yet...</div>\r\n            )}\r\n          </SectionInner>\r\n          <FlexRow flexWrap=\"wrap\" maxWidth=\"200px\" flexSpacing=\"flex-start\">\r\n            {tags ? (\r\n              tags.map((tag, index) => (\r\n                <AppButton key={index + tag} content={tag} margin=\"5px\" />\r\n              ))\r\n            ) : (\r\n              <div>Not tags avalaible yet...</div>\r\n            )}\r\n          </FlexRow>\r\n        </FlexRow>\r\n      </Container>\r\n    </main>\r\n  );\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useApi } from './useApi';\r\nimport { useDataFetch } from './useDataFetch';\r\n\r\nexport const useArticles = () => {\r\n  const { getArticlesApi } = useApi();\r\n  const [articles, setArticles] = useState([]);\r\n\r\n  const [, fetchArticles] = useDataFetch({\r\n    fetchHandler: async () => {\r\n      const res = await getArticlesApi(`?limit=5`);\r\n      setArticles(res.data.articles);\r\n      return res;\r\n    },\r\n    isLazy: true,\r\n    initialData: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchArticles();\r\n  }, []);\r\n\r\n  return {\r\n    articles,\r\n  };\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useApi } from './useApi';\r\nimport { useDataFetch } from './useDataFetch';\r\n\r\nexport const useTags = () => {\r\n  const { getTagsApi } = useApi();\r\n  const [tags, setTags] = useState([]);\r\n\r\n  const [, fetchTags] = useDataFetch({\r\n    fetchHandler: async () => {\r\n      const res = await getTagsApi();\r\n      setTags(res.data.tags);\r\n      return res;\r\n    },\r\n    isLazy: true,\r\n    initialData: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n  }, []);\r\n\r\n  return {\r\n    tags,\r\n  };\r\n};\r\n","import axios from 'axios';\r\nexport const ROOT_URL = 'https://conduit.productionready.io/api';\r\n\r\nexport async function loginUser(dispatch, loginPayload) {\r\n  try {\r\n    dispatch({ type: 'REQUEST_LOGIN' });\r\n\r\n    let response = await axios\r\n      .post(`${ROOT_URL}/users/login`, loginPayload, {\r\n        headers: {\r\n          'Content-type': 'application/json;charset=utf-8',\r\n        },\r\n      })\r\n      .catch((e) => console.log('error when login', e));\r\n\r\n    console.log('login res', response);\r\n    if (response.data) {\r\n      dispatch({ payload: response.data.user, type: 'LOGIN_SUCCESS' });\r\n      localStorage.setItem('token', JSON.stringify(response.data.user.token));\r\n      return response.data.user;\r\n    }\r\n    return;\r\n  } catch (error) {\r\n    dispatch({ type: 'LOGIN_ERROR', error: error });\r\n  }\r\n}\r\n\r\nexport async function registerUser(dispatch, registerPayload) {\r\n  try {\r\n    dispatch({ type: 'REQUEST_REGISTER' });\r\n\r\n    let response = await axios\r\n      .post(`${ROOT_URL}/users`, registerPayload, {\r\n        headers: {\r\n          'Content-type': 'application/json;charset=utf-8',\r\n        },\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    if (response.data) {\r\n      dispatch({ type: 'REGISTER_SUCCESS', payload: response });\r\n      localStorage.setItem('currentUser', JSON.stringify(response));\r\n    }\r\n    dispatch({ type: 'REGISTER_ERROR', error: response.errorMessage });\r\n    return;\r\n  } catch (error) {\r\n    dispatch({ type: 'REGISTER_ERROR', error: error });\r\n  }\r\n}\r\n\r\nexport async function logout(dispatch) {\r\n  dispatch({ type: 'LOGOUT' });\r\n  localStorage.removeItem('token');\r\n}\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ROOT_URL } from \"../api/auth/actions\";\r\nimport { useAuthState } from \"../api/auth/authenticate\";\r\nimport { Post } from \"../components/Post/Post\";\r\nimport { Container } from \"../styles/generalStyles\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const Favorites = () => {\r\n  const user = useAuthState();\r\n\r\n  const [articles, setArticles] = useState([]);\r\n\r\n  const history = useHistory();\r\n  if (user.isAuth === false) {\r\n    history.push(\"/auth/login\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${ROOT_URL}/articles?favorited=${user.user.username}`)\r\n      .then((res) => setArticles(res.data.articles));\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <section className=\"favorited\">\r\n        {articles.map((article, index) => (\r\n          <Post key={index + article.title} {...article} />\r\n        ))}\r\n      </section>\r\n    </Container>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\nimport { AppColors, AppFontSizes } from \"../../../styles/variables\";\r\n\r\nexport const HeaderStyled = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: ${AppColors.light};\r\n\r\n  a, button {\r\n    margin: 0 10px;\r\n    border: none;\r\n    outline: none;\r\n    background-color: transparent;\r\n    color: ${AppColors.white};\r\n    opacity: 0.5;\r\n    text-decoration: none;\r\n    font-size: ${AppFontSizes.medium};\r\n    font-weight: bold;\r\n\r\n    &:hover {\r\n      opacity: 1;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;","import axios from \"axios\";\r\nimport { ModalWrapper } from \"./ModalWindow.styled\";\r\nimport { Form, withFormik } from \"formik\";\r\nimport { ArticleValidationScheme } from \"../../validationSchemas/ValidationScheme\";\r\nimport { useApi } from \"../../hooks/useApi\";\r\n\r\nconst DEFAULT_VALUES = {\r\n  title: \"title\",\r\n  body: \"body\",\r\n  description: \"description\",\r\n};\r\n\r\nconst AddPostWindow = (props) => {\r\n  const { values, onSubmit, handleSubmit, handleChange, handleBlur } = props;\r\n\r\n  const { createNewArticleApi } = useApi();\r\n\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // handleSubmit();\r\n\r\n    await createNewArticleApi(values);\r\n    props.handleCloseModal();\r\n    onSubmit(values);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.isModalOpen ? (\r\n        <ModalWrapper>\r\n          <Form onSubmit={handleOnSubmit}>\r\n            <button onClick={props.handleCloseModal}>x</button>\r\n            <fieldset>\r\n              <legend>Add New Article </legend>\r\n              <label>\r\n                {\" \"}\r\n                Title\r\n                <input\r\n                  name=\"title\"\r\n                  type=\"text\"\r\n                  placeholder=\"Article Title\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.title}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Description\r\n                <input\r\n                  name=\"description\"\r\n                  type=\"text\"\r\n                  placeholder=\"Article Description\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.description}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Body\r\n                <input\r\n                  name=\"body\"\r\n                  type=\"text\"\r\n                  placeholder=\"Article Body\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.body}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Tags\r\n                <input\r\n                  name=\"tags\"\r\n                  placeholder=\"Tags\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.tags}\r\n                />\r\n              </label>\r\n              <input type=\"submit\" value=\"Create Article\" />\r\n            </fieldset>\r\n          </Form>\r\n        </ModalWrapper>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withFormik({\r\n  validationSchema: ArticleValidationScheme,\r\n  mapPropsToValues: ({ initialValues }) =>\r\n    initialValues ? initialValues : DEFAULT_VALUES,\r\n})(AddPostWindow);\r\n","import { Link, NavLink } from 'react-router-dom';\r\nimport { useAuthState, useAuthDispatch } from '../../../api/auth/authenticate';\r\nimport { Avatar } from '../../Avatar';\r\nimport { Container, FlexRow } from '../../../styles/generalStyles';\r\nimport { HeaderStyled } from './Header.styled';\r\nimport { logout } from '../../../api/auth/actions';\r\nimport { useHistory } from 'react-router';\r\nimport AddPostWindow from '../../ModalWindow/AddPostWindow';\r\nimport { AppIcons, AppColors } from '../../../styles/variables';\r\nimport { AppButton } from '../../AppButton/AppButton';\r\nimport { useState } from 'react';\r\n\r\nexport const Header = () => {\r\n  const user = useAuthState();\r\n  const history = useHistory();\r\n  const dispatch = useAuthDispatch();\r\n  const [formValues, setFormValues] = useState();\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n\r\n  const initialValues = {\r\n    title: '',\r\n    body: '',\r\n    description: '',\r\n    tags: [],\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setModalOpen(!isModalOpen);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout(dispatch);\r\n    history.push('/home');\r\n  };\r\n\r\n  return (\r\n    <HeaderStyled>\r\n      <AddPostWindow\r\n        isModalOpen={isModalOpen}\r\n        handleCloseModal={handleCloseModal}\r\n        onSubmit={setFormValues}\r\n        initialValues={initialValues}\r\n      />\r\n      <Container>\r\n        <FlexRow>\r\n          <Avatar />\r\n          <FlexRow flexSpacing=\"flex-end\" flexWrap=\"wrap\">\r\n            <NavLink to=\"/home\">Home</NavLink>\r\n            {!user.isAuth && (\r\n              <>\r\n                <NavLink to=\"/auth/login\">Log In</NavLink>\r\n                <NavLink to=\"/auth/signup\">Sign Up</NavLink>\r\n              </>\r\n            )}\r\n            {user.isAuth && (\r\n              <>\r\n                <AppButton\r\n                  content={AppIcons.add}\r\n                  color={AppColors.light}\r\n                  handle={handleCloseModal}\r\n                  position=\"fixed\"\r\n                />\r\n                <button\r\n                  type=\"link\"\r\n                  onClick={() => {\r\n                    history.push({\r\n                      pathname: `/profiles/${user.user.username}`,\r\n                      search: '',\r\n                      state: {\r\n                        author: user.user.username,\r\n                        currentUser: true,\r\n                      },\r\n                    });\r\n                  }}\r\n                >\r\n                  {' '}\r\n                  Profile\r\n                </button>\r\n                <button onClick={handleLogout}>Logout</button>\r\n              </>\r\n            )}\r\n          </FlexRow>\r\n        </FlexRow>\r\n      </Container>\r\n    </HeaderStyled>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\nimport { AppColors, AppFontSizes } from \"../../styles/variables\";\r\n\r\nexport const AuthForm = styled.form`\r\n  margin: 40px auto;\r\n  padding: 10px;\r\n  max-width: 500px;\r\n  box-sizing: border-box;\r\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\r\n\r\n  fieldset {\r\n    display: flex;\r\n    flex-direction: column;\r\n    border: none;\r\n  }\r\n\r\n  input {\r\n    position: relative;\r\n    margin: 10px 0;\r\n    padding: 12px;\r\n    border: 2px solid ${AppColors.light};\r\n    border-radius: 5px;\r\n    box-sizing: border-box;\r\n  }\r\n  button {\r\n    padding: 10px 0;\r\n    border-color: transparent;\r\n    border-radius: 5px;\r\n    background-color: ${AppColors.primary};\r\n    font-size: ${AppFontSizes.medium};\r\n    color: ${AppColors.white};\r\n    text-transform: uppercase;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { AuthForm } from \"./AuthForm.styled\";\r\nimport { useState } from \"react\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport { useAuthDispatch, useAuthState } from \"../../api/auth/authenticate\";\r\nimport { loginUser } from \"../../api/auth/actions\";\r\nimport { useHistory } from \"react-router\";\r\nimport { FlexRow } from \"../../styles/generalStyles\";\r\n\r\nexport const Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n  const dispatch = useAuthDispatch();\r\n\r\n  const currentUser = useAuthState();\r\n\r\n  if (currentUser.isAuth) {\r\n    history.push(\"/home\");\r\n    <Redirect to=\"/home\" />;\r\n  }\r\n\r\n  const sendLogin = async (e) => {\r\n    e.preventDefault();\r\n    let payload = JSON.stringify({ user: { email, password } });\r\n    try {\r\n      const res = await loginUser(dispatch, payload);\r\n      if (res) {\r\n        history.push(\"/home\");\r\n        <Redirect to=\"/home\" />;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthForm>\r\n      <fieldset>\r\n        <legend>Login</legend>\r\n        <input\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n          required\r\n        />\r\n        <input\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n          required\r\n        />\r\n        <button type=\"button\" onClick={sendLogin}>\r\n          Login\r\n        </button>\r\n      </fieldset>\r\n      <FlexRow flexSpacing=\"center\">\r\n        <span>\r\n          Don`t have an account? <NavLink to=\"/auth/signup\">Create </NavLink>\r\n          Now!\r\n        </span>\r\n      </FlexRow>\r\n    </AuthForm>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { registerUser } from \"../../api/auth/actions\";\r\nimport { useAuthDispatch } from \"../../api/auth/authenticate\";\r\nimport { AuthForm } from \"./AuthForm.styled\";\r\nimport { useHistory } from \"react-router\";\r\nimport { FlexRow } from \"../../styles/generalStyles\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport const Signup = () => {\r\n  const [username, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const dispatch = useAuthDispatch();\r\n\r\n  const sendSignup = async (e) => {\r\n    e.preventDefault();\r\n    let payload = JSON.stringify({ user: { username, email, password } });\r\n    try {\r\n      registerUser(dispatch, payload).then(() => history.push(\"/auth/login\"));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthForm onSubmit={sendSignup}>\r\n      <fieldset>\r\n        <legend>Sign Up</legend>\r\n        <input\r\n          placeholder=\"Name\"\r\n          type=\"text\"\r\n          onChange={(e) => setName(e.target.value)}\r\n          value={username}\r\n          required\r\n        />\r\n        <input\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n          required\r\n        />\r\n        <input\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n          required\r\n        />\r\n        <button type=\"submit\" onSubmit={sendSignup}>\r\n          Sign Up\r\n        </button>\r\n      </fieldset>\r\n      <FlexRow flexSpacing=\"center\">\r\n        <span>\r\n          Already have an account? <NavLink to=\"/auth/signup\">Log In</NavLink>{\" \"}\r\n          Now!\r\n        </span>\r\n      </FlexRow>\r\n    </AuthForm>\r\n  );\r\n};\r\n","import { ModalWrapper } from './ModalWindow.styled';\r\nimport { Form, withFormik } from 'formik';\r\nimport { UserProfileValidationScheme } from '../../validationSchemas/ValidationScheme';\r\nimport { useApi } from '../../hooks/useApi';\r\nimport { useAuthDispatch, useAuthState } from '../../api/auth/authenticate';\r\n\r\nconst EditProfileWindow = (props) => {\r\n  const { values, onSubmit, handleSubmit, handleChange, handleBlur } = props;\r\n\r\n  const { updateProfileApi } = useApi();\r\n  let { user, setUser } = useAuthState();\r\n  const dispatch = useAuthDispatch();\r\n\r\n  const handleEdit = async (e) => {\r\n    e.preventDefault();\r\n    handleSubmit();\r\n\r\n    let res = await updateProfileApi(values);\r\n    setUser(res.data.user);\r\n    props.handleCloseModal(!props.isModalOpen);\r\n\r\n    onSubmit(values);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.isModalOpen ? (\r\n        <ModalWrapper>\r\n          <Form onSubmit={handleEdit}>\r\n            <button onClick={props.handleCloseModal}>x</button>\r\n            <fieldset>\r\n              <legend>Edit your personal data</legend>\r\n              <label>\r\n                {' '}\r\n                Avatar\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  placeholder={`Paste image url here`}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.image}\r\n                />\r\n              </label>\r\n              <label>\r\n                {' '}\r\n                Name\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder={`Set new name`}\r\n                  name=\"username\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.username}\r\n                />\r\n              </label>\r\n              <label>\r\n                {' '}\r\n                Biography\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Update  your`s story\"\r\n                  name=\"bio\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.bio}\r\n                />\r\n              </label>\r\n              <label>\r\n                {' '}\r\n                Email\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Change Email\"\r\n                  name=\"email\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.email}\r\n                />\r\n              </label>\r\n              <input type=\"button\" value=\"Save changes\" onClick={handleEdit} />\r\n            </fieldset>\r\n          </Form>\r\n        </ModalWrapper>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withFormik({\r\n  validationSchema: UserProfileValidationScheme,\r\n  mapPropsToValues: ({ initialState }) => (initialState ? initialState : ''),\r\n})(EditProfileWindow);\r\n","import { useHistory } from 'react-router-dom';\r\nimport { Container, FlexColumn, FlexRow } from '../styles/generalStyles';\r\nimport { Post } from '../components/Post/Post';\r\nimport { useEffect, useState } from 'react';\r\nimport EditProfileWindow from '../components/ModalWindow/EditProfileWindow';\r\nimport { AppButton } from '../components/AppButton/AppButton';\r\nimport { AppIcons, AppColors } from '../styles/variables';\r\nimport { useApi } from '../hooks/useApi';\r\nimport { useProfile } from '../hooks/useProfile';\r\n\r\nexport const Profile = () => {\r\n  const history = useHistory();\r\n  const [user, setUser] = useState('');\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  let [articles, setArticles] = useState([]);\r\n  const { profile } = useProfile(history.location.state.author);\r\n\r\n  console.log(history.location.state.author);\r\n  console.log(profile);\r\n\r\n  // const {\r\n  //   getProfileApi,\r\n  //   createNewSubscriptionApi,\r\n  //   deleteSubscriptionApi,\r\n  //   getArticlesApi,\r\n  // } = useApi();\r\n\r\n  // const handleCloseModal = () => {\r\n  //   setModalOpen(!isModalOpen);\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   const getProfileData = async () => {\r\n  //     const userData = await getProfileApi(\r\n  //       `${history.location.state.author}`\r\n  //     ).catch(() => console.log('Error when trying to get profile'));\r\n\r\n  //     if (userData) {\r\n  //       setUser(userData.data.profile);\r\n\r\n  //       const articleData = await getArticlesApi(\r\n  //         `?author=${history.location.state.author}`\r\n  //       ).catch(() => console.log('Error when trying to get profile'));\r\n  //       setArticles(articleData.data.articles);\r\n  //     }\r\n  //   };\r\n  //   getProfileData();\r\n  // }, []);\r\n\r\n  // const followUser = async () => {\r\n  //   const res = await createNewSubscriptionApi(user.username);\r\n  //   setUser(res.data.profile);\r\n  // };\r\n\r\n  // const unfollowUser = async () => {\r\n  //   const res = await deleteSubscriptionApi(user.username);\r\n  //   setUser(res.data.profile);\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      {user ? (\r\n        <Container>\r\n          <EditProfileWindow\r\n            isModalOpen={isModalOpen}\r\n            // handleCloseModal={handleCloseModal}\r\n            initialState={user}\r\n            onSubmit={setUser}\r\n          />\r\n          <section className=\"user-info\">\r\n            <FlexRow>\r\n              <img src={user.image} alt=\"Avatar\" />\r\n              <FlexColumn>\r\n                <p>{user.username}</p>\r\n                <p>{user.createdAt}</p>\r\n                <p>{user.bio}</p>\r\n                {history.location.state.currentUser ? (\r\n                  <AppButton\r\n                    content={AppIcons.edit}\r\n                    color={AppColors.light}\r\n                    // handle={handleCloseModal}\r\n                  />\r\n                ) : (\r\n                  <AppButton\r\n                    content={AppIcons.subscription}\r\n                    color={AppColors.light}\r\n                    // handle={user.following ? unfollowUser : followUser}\r\n                    isFavorited={user.following}\r\n                  />\r\n                )}\r\n              </FlexColumn>\r\n            </FlexRow>\r\n          </section>\r\n          <section className=\"my-articles\">\r\n            {articles.map((article, index) => (\r\n              <Post key={index + article.title} {...article} />\r\n            ))}\r\n          </section>\r\n        </Container>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useApi } from './useApi';\r\nimport { useDataFetch } from './useDataFetch';\r\n\r\nexport const useProfile = (username) => {\r\n  const { getProfileApi } = useApi();\r\n  const [profile, setProfile] = useState({});\r\n\r\n  const [, fetchProfile] = useDataFetch({\r\n    fetchHandler: async () => {\r\n      const res = await getProfileApi(username);\r\n      setProfile(res.data.profile);\r\n      return res;\r\n    },\r\n    isLazy: true,\r\n    initialData: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  return {\r\n    profile,\r\n  };\r\n};\r\n","import styled from \"styled-components\";\r\n\r\n\r\n\r\n\r\nexport const CommentBlockStyled = styled.div`\r\n  display: flex;\r\n  margin: 12px 0;\r\n  padding: 10px;\r\n  border: 1px solid black;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n`","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useAuthState } from \"../../api/auth/authenticate\";\r\n\r\nimport { AppButton } from \"../../components/AppButton/AppButton\";\r\nimport { Avatar } from \"../../components/Avatar\";\r\nimport { useApi } from \"../../hooks/useApi\";\r\nimport { Container, FlexColumn, FlexRow } from \"../../styles/generalStyles\";\r\nimport { AppColors, AppIcons } from \"../../styles/variables\";\r\nimport { CommentBlockStyled } from \"./CommentBlock.styled\";\r\n\r\nexport const CommentBlock = (props) => {\r\n  const [comment, setCommet] = useState(props);\r\n  const user = useAuthState();\r\n  const history = useHistory();\r\n  const { deleteCommentApi } = useApi();\r\n  const deleteComment = async (e) => {\r\n    e.preventDefault();\r\n    await deleteCommentApi(props.slug, props.id);\r\n    setCommet(\"\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {comment ? (\r\n        <CommentBlockStyled>\r\n          <FlexColumn>\r\n            <FlexRow>\r\n              <Avatar imgUrl={comment.author.image} />\r\n              <FlexColumn>\r\n                <button\r\n                  type=\"link\"\r\n                  onClick={() => {\r\n                    history.push({\r\n                      pathname: `/profiles/${comment.author.username}`,\r\n                      state: {\r\n                        author: comment.author.username,\r\n                        currentUser:\r\n                          comment.author.username === user.user.username\r\n                            ? true\r\n                            : false,\r\n                      },\r\n                    });\r\n                  }}\r\n                >\r\n                  {comment.author.username}\r\n                </button>\r\n                <p>{comment.createdAt}</p>\r\n              </FlexColumn>\r\n              {comment.author.username === user.user.username ? (\r\n                <AppButton\r\n                  color={AppColors.error}\r\n                  content={AppIcons.close}\r\n                  handle={deleteComment}\r\n                />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </FlexRow>\r\n            <div>{comment.body}</div>\r\n          </FlexColumn>\r\n        </CommentBlockStyled>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport { useFormik } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ROOT_URL } from \"../../../api/auth/actions\";\r\nimport { Avatar } from \"../../Avatar\";\r\nimport { Post } from \"../../Post/Post\";\r\nimport { Container } from \"../../../styles/generalStyles\";\r\nimport { CommentBlock } from \"../../CommentBlock/CommentBlock\";\r\nimport { useAuthState } from \"../../../api/auth/authenticate\";\r\nimport { useApi } from \"../../../hooks/useApi\";\r\n\r\nexport const PostView = (props) => {\r\n  const history = useHistory();\r\n  const user = useAuthState();\r\n  const [article, setArticle] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const { getCommentsApi, createNewCommentApi } = useApi();\r\n\r\n  const commentBody = useFormik({\r\n    initialValues: {\r\n      body: \"\",\r\n    },\r\n  });\r\n\r\n  console.log(history.location.pathname);\r\n\r\n  const getArticleComments = async () => {\r\n    const commentsList = await getCommentsApi(history.location.state.slug);\r\n    setComments(commentsList.data.comments);\r\n  };\r\n\r\n  const addComment = async (e) => {\r\n    e.preventDefault();\r\n\r\n    await createNewCommentApi(commentBody.values, history.location.state.slug);\r\n    getArticleComments();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getArticle = async () => {\r\n      const res = await axios.get(`${ROOT_URL}${history.location.pathname}`);\r\n      setArticle(res.data.article);\r\n\r\n      getArticleComments();\r\n    };\r\n\r\n    getArticle();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {article ? (\r\n        <Container>\r\n          <section>\r\n            {\" \"}\r\n            <Post {...article} />{\" \"}\r\n          </section>\r\n          {user.isAuth ? (\r\n            <section>\r\n              <form onSubmit={addComment}>\r\n                <fieldset>\r\n                  <legend>Comments</legend>\r\n                  <Avatar imgUrl={article.author.image} />\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"body\"\r\n                    onChange={commentBody.handleChange}\r\n                    value={commentBody.values.body}\r\n                    placeholder=\"Write some About Article\"\r\n                  />\r\n                  <input type=\"submit\" value=\"Create Comment\" />\r\n                </fieldset>\r\n              </form>\r\n              <section>\r\n                {comments\r\n                  ? comments.map((item, index) => (\r\n                      <CommentBlock\r\n                        {...item}\r\n                        key={article.slug + item.id}\r\n                        slug={article.slug}\r\n                      />\r\n                    ))\r\n                  : \"\"}\r\n              </section>\r\n            </section>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Container>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react/cjs/react.development\";\r\nimport { Post } from \"../components/Post/Post\";\r\nimport { useApi } from \"../hooks/useApi\";\r\nimport { Container } from \"../styles/generalStyles\";\r\n\r\nexport const Feeds = () => {\r\n  const { getFeeds } = useApi();\r\n\r\n  const [feeds, setFeeds] = useState([]);\r\n\r\n  const handeGetFeeds = async () => {\r\n    const res = await getFeeds();\r\n    console.log(res);\r\n    setFeeds(res.data.articles);\r\n  };\r\n\r\n  useEffect(() => {\r\n    handeGetFeeds();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <section>\r\n        {feeds.map((article, index) => (\r\n          <Post key={index + article.title} {...article} />\r\n        ))}\r\n      </section>\r\n    </Container>\r\n  );\r\n};\r\n","import { Route, BrowserRouter } from 'react-router-dom';\r\nimport { NavBar } from './components/Layout/NavBar/NavBar';\r\nimport { Home } from './Pages/Home';\r\nimport { Favorites } from './Pages/Favorites';\r\nimport { Header } from './components/Layout/Header/Header';\r\nimport { Login } from './Pages/Auth/Login';\r\nimport { Signup } from './Pages/Auth/Signup';\r\nimport { Profile } from './Pages/Profile';\r\nimport { useAuthDispatch, useAuthState } from './api/auth/authenticate';\r\nimport { useEffect } from 'react';\r\nimport { PostView } from './components/Layout/PostView/PostView';\r\nimport { Feeds } from './Pages/Feeds';\r\nimport { useApi } from './hooks/useApi';\r\n\r\nexport const initialState = {\r\n  user: '',\r\n  token:\r\n    '' || localStorage.getItem('token')\r\n      ? JSON.parse(localStorage.getItem('token'))\r\n      : '',\r\n  isAuth: false,\r\n  loading: false,\r\n  errorMessage: null,\r\n};\r\n\r\nfunction App() {\r\n  const dispatch = useAuthDispatch();\r\n  const { getUserApi } = useApi();\r\n  const user = useAuthState();\r\n\r\n  useEffect(() => {\r\n    if (initialState.token) {\r\n      getUserApi()\r\n        .then((response) => {\r\n          dispatch({ payload: response.data, type: 'LOGIN_SUCCESS' });\r\n        })\r\n        .catch(() => console.log('Error arter trying login'));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Header />\r\n      <NavBar />\r\n      <Route exact path=\"/home\" component={Home} />\r\n      <Route exact path=\"/auth/login\" component={Login} />\r\n      <Route exact path=\"/auth/signup\" component={Signup} />\r\n      <Route exact path=\"/favorites\" component={Favorites} />\r\n      <Route exact path=\"/feeds\" component={Feeds} />\r\n      <Route path=\"/profiles\" component={Profile} />\r\n      <Route path=\"/articles\" component={PostView} />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { AuthProvider } from \"./api/auth/authenticate\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}